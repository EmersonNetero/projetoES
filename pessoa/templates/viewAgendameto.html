{% extends "base.html" %}

{% block content %}
<h3>Ver Agendamento</h3>
<table class="table" id="Agendamento">
        <tr>
            <th scope="col">Procedimento</th>
            <th scope="col">Paciente</th>
            <th scope="col">Data de Agendamento</th>
            <th scope="col">Profissional Responsavel</th>
            <th scope="col">Valor</th>
        </tr>
            <tr>  
                <th>{{db.fk_tipo_procedimento}}</th>
                <th>{{db.fk_paciente}}</th>
                <th>{{db.data_agendamento}}</th>
                <th>{{db.fk_agente_saude}}</th>
                <th>R$ {{db.valor}}</th>
            </tr>

</table>
<h10>Observação: {{db.observacao}}</h10> <br>
<a class="btn btn-primary" type="button"  value="Gerar PDF" onclick="GeraComprovante()">Gerar Comprovante de Agendamento</a>

<script>
    function GeraComprovante() {


        var minhaTabela = document.getElementById('Agendamento').innerHTML;

        var style = "<style>";
        style = style + "table {width: 100%;font: 20px Calibri;}";
        style = style + "table, th, td {border: solid 1px #DDD; border-collapse: collapse;";
        style = style + "padding: 2px 3px;text-align: center;}";
        style = style + "</style>";


        var win = window.open('', '', 'height=1000,width=1000');

        win.document.write('<html><head>'); 
        win.document.write('<h1 style = "text-align: center;">Comprovante de Agendamento</h1>');
        win.document.write('<hr> <br>')  // <title> CABEÇALHO DO PDF.
                                           // INCLUI UM ESTILO NA TAB HEAD
        win.document.write('</head>');
        win.document.write('<body>');
        win.document.write(minhaTabela);
        win.document.write(style);                            // O CONTEUDO DA TABELA DENTRO DA TAG BODY
        win.document.write('</body></html>');
        win.document.close();                                               // FECHA A JANELA
        win.print();   // IMPRIME O CONTEUDO
    }
    </script>
{% endblock%}